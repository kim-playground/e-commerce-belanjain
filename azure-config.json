{
  "version": "1.0",
  "defaultProvider": "azureAppService",
  "resources": [
    {
      "type": "Microsoft.Web/sites",
      "properties": {
        "name": "belanjain-backend",
        "location": "Southeast Asia",
        "kind": "linux",
        "serverFarmId": "/subscriptions/{subscription-id}/resourceGroups/belanjain-rg/providers/Microsoft.Web/serverfarms/belanjain-plan",
        "siteConfig": {
          "linuxFxVersion": "NODE|18-lts",
          "appCommandLine": "cd backend && npm install && npm start",
          "alwaysOn": false,
          "http20Enabled": true,
          "minTlsVersion": "1.2",
          "ftpsState": "Disabled",
          "appSettings": [
            {
              "name": "NODE_ENV",
              "value": "production"
            },
            {
              "name": "WEBSITES_ENABLE_APP_SERVICE_STORAGE",
              "value": "false"
            },
            {
              "name": "SCM_DO_BUILD_DURING_DEPLOYMENT",
              "value": "true"
            },
            {
              "name": "WEBSITE_NODE_DEFAULT_VERSION",
              "value": "18-lts"
            }
          ]
        }
      }
    }
  ]
}
